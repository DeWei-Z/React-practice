<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jsx小练习</title>
	<script src="react.development.js"></script>
	<script src="react-dom.development.js"></script>
	<script src="babel.min.js"></script>
	<script src="prop-types.js"></script>
</head>
<body>
	<div id="test1"></div>
	<div id="test2"></div>
	<div id="test3"></div>
	
	

	<script type="text/babel" >
		class Life extends React.Component{
		state={opacity:1}

		render(){
			

			return (<div>
				<h1 style={{opacity:this.state.opacity}}>生命周期</h1>
				<button onClick={this.death}>不活了</button>
				</div>)
		}

		componentDidMount(){
			this.timer=setInterval(()=>{

				let {opacity}=this.state
				opacity-=0.1
				if(opacity<=0)opacity=1;
				this.setState({opacity:opacity})
			},200)

		}

		componentWillUnmount(){
			clearInterval(this.timer)
		}

		death=()=>{
		ReactDOM.unmountComponentAtNode(document.getElementById('test'))
	}
	}

	
		ReactDOM.render(<Life/>,document.getElementById('test'))
	</script>
</body>
</html>